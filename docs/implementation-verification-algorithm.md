# HTML to React 1:1 구현 및 차이점 점검 알고리즘

## 개요

HTML 대시보드를 React로 마이그레이션할 때 1:1 정확한 구현을 보장하기 위한 체계적인 알고리즘.

---

## 1. 구현 단계

### 1.1 섹션 분석
```
1. HTML 주석으로 섹션 경계 파악 (예: <!-- 4. 최근 변화 인사이트 -->)
2. 섹션 내 구조 파악:
   - 컨테이너 구조 (div 중첩)
   - 조건부 렌더링 (if/else 분기)
   - 반복 렌더링 (loop)
   - 이벤트 핸들러 (onclick, onmouseover 등)
```

### 1.2 상태(State) 분석
```
1. JavaScript 변수 중 UI에 영향을 주는 것 → useState
2. 계산된 값 → useMemo
3. 이벤트 핸들러 → 함수 또는 useCallback
4. DOM 조작 → useRef + useEffect (최소화)
```

### 1.3 코드 변환
```
HTML                          → React JSX
---------------------------------------------
class="..."                   → className="..."
style="key: value"            → style={{ key: 'value' }}
onclick="fn()"                → onClick={() => fn()}
innerHTML = `...`             → 조건부 렌더링 + map()
display: none/block           → className 토글 또는 조건부 렌더링
```

---

## 2. 차이점 점검 알고리즘

### 2.1 Level 1: 코드 비교 (정적 분석)

#### 체크리스트
| 항목 | HTML | React | 확인 |
|------|------|-------|------|
| 클래스명 | `class="insight-card"` | `className="insight-card"` | ☐ |
| 인라인 스타일 | `style="padding: 20px"` | `style={{ padding: '20px' }}` | ☐ |
| 이벤트 핸들러 | `onclick="toggle()"` | `onClick={() => toggle()}` | ☐ |
| 조건부 표시 | `style="display: none"` | `className="expanded"` 토글 | ☐ |
| 텍스트 내용 | 정적 텍스트 | 동일한 텍스트 | ☐ |
| 속성 값 | `id="container"` | `id="container"` | ☐ |

#### 코드 비교 방법
```bash
# HTML 섹션 추출
grep -A 100 "<!-- 섹션명 -->" funnel_dashboard.html

# React 섹션과 라인별 비교
# 주의: 코드가 같아도 렌더링이 다를 수 있음
```

### 2.2 Level 2: 시각적 비교 (동적 분석) ⭐ 중요

> **핵심 교훈**: 코드가 동일해도 렌더링 환경 차이로 시각적 결과가 다를 수 있음

#### 필수 비교 항목
```
1. 레이아웃
   - 요소 위치 (left/center/right)
   - 요소 크기
   - 간격 (margin, padding, gap)

2. 타이포그래피
   - 폰트 크기
   - 폰트 굵기
   - 줄 간격

3. 색상
   - 텍스트 색상
   - 배경 색상
   - 테두리 색상

4. 상호작용
   - 호버 효과
   - 클릭 효과
   - 토글 동작
```

#### 비교 방법
```
1. HTML 파일을 브라우저에서 열기
2. React 앱을 같은 브라우저에서 열기
3. 동일한 화면 크기로 스크린샷 캡처
4. 두 이미지를 나란히 비교
5. 픽셀 단위 차이 확인
```

### 2.3 Level 3: 환경 차이 분석

#### 렌더링 환경 차이 원인
| 원인 | 설명 | 해결책 |
|------|------|--------|
| CSS Reset | Next.js/React 기본 CSS가 요소 스타일 변경 | 명시적 스타일 추가 |
| SVG 기본값 | SVG가 inline vs block으로 다르게 동작 | `display: block` 명시 |
| 폰트 로딩 | 웹폰트 로딩 타이밍 차이 | 폰트 preload |
| Box Model | box-sizing 기본값 차이 | `box-sizing: border-box` 명시 |

#### SVG 정렬 문제 사례
```html
<!-- HTML: SVG는 inline이라 text-align: center 작동 -->
<div style="text-align: center;">
    <svg style="width: 48px; height: 48px;">...</svg>
</div>
```

```jsx
// React/Next.js: CSS reset이 SVG를 block으로 만들어 정렬 깨짐
// 해결: 명시적으로 block + margin auto 추가
<svg style={{
    width: '48px',
    height: '48px',
    display: 'block',
    margin: '0 auto'
}}>...</svg>
```

---

## 3. 완전한 점검 프로세스

```
┌─────────────────────────────────────────────────────────┐
│                    구현 완료                              │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│  Level 1: 코드 비교                                      │
│  - HTML vs JSX 문법 변환 확인                            │
│  - 클래스명, 스타일, 이벤트 핸들러                         │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│  Level 2: 시각적 비교 ⭐                                  │
│  - 스크린샷 캡처                                         │
│  - 나란히 비교                                           │
│  - 레이아웃, 색상, 크기 확인                              │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│  Level 3: 상호작용 테스트                                 │
│  - 호버 효과                                             │
│  - 클릭 동작                                             │
│  - 토글/접기펼치기                                        │
│  - 데이터 로딩 상태                                       │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│  Level 4: 엣지 케이스                                    │
│  - 데이터 없음 상태                                       │
│  - 빈 배열 상태                                          │
│  - 에러 상태                                             │
│  - 로딩 상태                                             │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
                    ✅ 검증 완료
```

---

## 4. 자주 발생하는 차이점

### 4.1 코드는 같은데 렌더링이 다른 경우
| 요소 | 문제 | 원인 | 해결 |
|------|------|------|------|
| SVG | 정렬 차이 | inline vs block 기본값 | `display: block; margin: 0 auto` |
| img | 크기 차이 | Next.js Image 최적화 | 명시적 width/height |
| input | 스타일 차이 | 브라우저 기본 스타일 | CSS reset 또는 명시적 스타일 |
| button | 스타일 차이 | 브라우저 기본 스타일 | 모든 스타일 명시 |

### 4.2 JSX 특수 문법
| HTML | React | 주의사항 |
|------|-------|----------|
| `<!-- 주석 -->` | `{/* 주석 */}` | JSX 주석 문법 |
| `for="id"` | `htmlFor="id"` | label 속성 |
| `class` | `className` | 예약어 충돌 |
| `style="..."` | `style={{...}}` | 객체 형태 |
| `0 && <div>` | 렌더링됨: "0" | 삼항 연산자 사용 |

### 4.3 조건부 렌더링 주의
```jsx
// ❌ 잘못된 방법: 0이 화면에 표시됨
{count && <div>Count: {count}</div>}

// ✅ 올바른 방법
{count > 0 && <div>Count: {count}</div>}
// 또는
{count ? <div>Count: {count}</div> : null}
```

---

## 5. 점검 체크리스트 템플릿

### 섹션: ________________

#### 코드 비교 (Level 1)
- [ ] 클래스명 일치
- [ ] 인라인 스타일 일치
- [ ] 이벤트 핸들러 일치
- [ ] 텍스트 내용 일치
- [ ] 속성 값 일치

#### 시각적 비교 (Level 2)
- [ ] 레이아웃/정렬 일치
- [ ] 색상 일치
- [ ] 크기 일치
- [ ] 간격 일치
- [ ] 폰트 스타일 일치

#### 상호작용 (Level 3)
- [ ] 호버 효과 일치
- [ ] 클릭 동작 일치
- [ ] 토글 동작 일치

#### 엣지 케이스 (Level 4)
- [ ] 데이터 없음 상태
- [ ] 빈 배열 상태
- [ ] 로딩 상태

---

## 6. 결론

> **코드 비교만으로는 불충분하다.**

1:1 구현 검증을 위해서는:
1. **코드 비교** - 문법적 정확성
2. **시각적 비교** - 렌더링 결과 동일성 ⭐
3. **환경 차이 인지** - CSS reset, 기본 스타일 차이
4. **상호작용 테스트** - 동적 동작 검증

특히 **시각적 비교(스크린샷 비교)**는 코드 분석만으로 발견할 수 없는 렌더링 환경 차이를 발견하는 유일한 방법이다.
