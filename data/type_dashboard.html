<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì±„ë„ë³„ ë¶„ì„ ëŒ€ì‹œë³´ë“œ - ë¸Œëœë“œ/ìƒí’ˆ/í”„ë¡œëª¨ì…˜ ì¸ì‚¬ì´íŠ¸</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
    <!-- D3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        :root {
            /* Berry Theme Colors */
            --primary-main: #673ab7;
            --primary-light: #ede7f6;
            --primary-dark: #5e35b1;
            --secondary-main: #2196f3;
            --secondary-light: #e3f2fd;
            --success-main: #00c853;
            --success-light: #b9f6ca;
            --warning-main: #ffab00;
            --warning-light: #fff8e1;
            --error-main: #ff1744;
            --error-light: #ffeaea;
            --grey-50: #fafafa;
            --grey-100: #f5f5f5;
            --grey-200: #eeeeee;
            --grey-300: #e0e0e0;
            --grey-500: #9e9e9e;
            --grey-600: #757575;
            --grey-700: #616161;
            --grey-900: #212121;
            --paper: #ffffff;
            --background: #f8fafc;
            --sidebar-bg: #ffffff;
            --sidebar-width: 260px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--background);
            color: var(--grey-900);
            line-height: 1.5;
        }

        /* ë ˆì´ì•„ì›ƒ êµ¬ì¡° */
        .app-wrapper {
            display: flex;
            min-height: 100vh;
        }

        /* ì‚¬ì´ë“œë°” */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--sidebar-bg);
            border-right: 1px solid var(--grey-200);
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
        }

        .sidebar-header {
            padding: 24px 20px;
            border-bottom: 1px solid var(--grey-200);
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }

        .sidebar-logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-main) 0%, var(--primary-dark) 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sidebar-logo-icon svg {
            width: 24px;
            height: 24px;
            stroke: white;
            fill: none;
            stroke-width: 2;
        }

        .sidebar-logo-text {
            display: flex;
            flex-direction: column;
        }

        .sidebar-logo-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--grey-900);
            line-height: 1;
        }

        .sidebar-logo-subtitle {
            font-size: 11px;
            color: var(--grey-500);
            margin-top: 4px;
        }

        .simplebar-content-wrapper {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .simplebar-content-wrapper::-webkit-scrollbar {
            width: 6px;
        }

        .simplebar-content-wrapper::-webkit-scrollbar-track {
            background: transparent;
        }

        .simplebar-content-wrapper::-webkit-scrollbar-thumb {
            background: var(--grey-300);
            border-radius: 3px;
        }

        .sidebar-content {
            padding: 16px 12px;
        }

        .nav-group {
            margin-bottom: 16px;
        }

        .nav-group-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--grey-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 0 8px;
            margin-bottom: 4px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            color: var(--grey-700);
            text-decoration: none;
            transition: all 0.2s;
            cursor: pointer;
            border-radius: 8px;
            margin-bottom: 2px;
        }

        .nav-item:hover {
            background-color: var(--grey-100);
            color: var(--primary-main);
        }

        .nav-item.active {
            background-color: var(--primary-light);
            color: var(--primary-main);
            font-weight: 500;
        }

        .nav-item-icon {
            width: 20px;
            height: 20px;
            margin-right: 10px;
        }

        .nav-item-icon svg {
            width: 100%;
            height: 100%;
            fill: currentColor;
        }

        .nav-item-text {
            font-size: 14px;
        }

        .nav-section {
            margin-bottom: 24px;
        }

        .nav-section-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--grey-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 0 12px;
            margin-bottom: 8px;
        }

        /* ì ‘ê¸°/í¼ì¹˜ê¸° ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .collapsible-section {
            margin-bottom: 24px;
        }

        .collapsible-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            background: var(--paper);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
            border: 1px solid var(--grey-200);
        }

        .collapsible-header:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
        }

        .collapsible-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 18px;
            font-weight: 600;
            color: var(--grey-900);
        }

        .collapsible-icon {
            font-size: 24px;
        }

        .collapsible-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: var(--primary-light);
            color: var(--primary-main);
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .collapsible-toggle:hover {
            background: var(--primary-main);
            color: white;
        }

        .collapsible-toggle-icon {
            transition: transform 0.3s ease;
            transform: rotate(180deg);
        }

        .collapsible-toggle-icon.collapsed {
            transform: rotate(0deg);
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
            padding: 0 24px;
        }

        .collapsible-content.expanded {
            max-height: 10000px;
            padding: 24px;
        }

        /* ë·° íƒ€ì… ì„ íƒ ì„¹ì…˜ */
        .view-type-section {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .view-btn {
            padding: 10px 20px;
            background: var(--grey-100);
            color: var(--grey-700);
            border: 1px solid var(--grey-300);
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .view-btn:hover {
            background: var(--grey-200);
            border-color: var(--grey-400);
        }

        .view-btn.active {
            background: var(--primary-main);
            color: white;
            border-color: var(--primary-main);
        }

        /* ë©”ì¸ ì»¨í…ì¸  */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 24px;
        }

        .dashboard-header {
            margin-bottom: 32px;
        }

        .dashboard-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--grey-900);
            margin-bottom: 8px;
        }

        .dashboard-subtitle {
            font-size: 14px;
            color: var(--grey-600);
        }

        /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card {
            background: var(--paper);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
            border: 1px solid var(--grey-200);
            margin-bottom: 24px;
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--grey-900);
        }

        .card-subtitle {
            font-size: 12px;
            color: var(--grey-500);
            margin-top: 4px;
        }

        /* KPI ì¹´ë“œ */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .kpi-card {
            background: var(--paper);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
            border: 1px solid var(--grey-200);
            transition: all 0.3s;
        }

        .kpi-card:hover {
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            transform: translateY(-2px);
        }

        .kpi-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .kpi-title {
            font-size: 13px;
            color: var(--grey-600);
            font-weight: 500;
        }

        .kpi-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .kpi-icon svg {
            width: 20px;
            height: 20px;
        }

        .kpi-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--grey-900);
            margin-bottom: 8px;
        }

        .kpi-change {
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .kpi-change.positive {
            color: var(--success-main);
        }

        .kpi-change.negative {
            color: var(--error-main);
        }

        .kpi-change.neutral {
            color: var(--grey-500);
        }

        /* ì¸ì‚¬ì´íŠ¸ ì¹´ë“œ */
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .insight-card {
            padding: 16px;
            border-radius: 8px;
            border-left: 4px solid;
        }

        .insight-card.high {
            background: var(--error-light);
            border-left-color: var(--error-main);
        }

        .insight-card.medium {
            background: var(--warning-light);
            border-left-color: var(--warning-main);
        }

        .insight-card.low {
            background: var(--success-light);
            border-left-color: var(--success-main);
        }

        .insight-card.opportunity {
            background: var(--secondary-light);
            border-left-color: var(--secondary-main);
        }

        .insight-type {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
            color: var(--grey-600);
        }

        .insight-message {
            font-size: 14px;
            color: var(--grey-900);
            font-weight: 500;
            margin-bottom: 8px;
        }

        .insight-value {
            font-size: 12px;
            color: var(--grey-600);
        }

        /* ì°¨íŠ¸ ì»¨í…Œì´ë„ˆ */
        .chart-container {
            position: relative;
            height: 400px;
            margin-top: 20px;
        }

        .chart-container.small {
            height: 300px;
        }

        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 16px;
        }

        .data-table th {
            text-align: left;
            padding: 12px;
            font-size: 12px;
            font-weight: 600;
            color: var(--grey-600);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid var(--grey-200);
            background: var(--grey-50);
        }

        .data-table td {
            padding: 12px;
            font-size: 14px;
            color: var(--grey-900);
            border-bottom: 1px solid var(--grey-200);
        }

        .data-table tr:hover {
            background: var(--grey-50);
        }

        /* Badge */
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge.high {
            background: var(--error-light);
            color: var(--error-main);
        }

        .badge.medium {
            background: var(--warning-light);
            color: var(--warning-main);
        }

        .badge.low {
            background: var(--success-light);
            color: var(--success-main);
        }

        /* Tooltip */
        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 13px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 10000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            max-width: 300px;
        }

        .tooltip.show {
            opacity: 1;
        }

        .tooltip-title {
            font-weight: 600;
            margin-bottom: 6px;
            font-size: 14px;
        }

        .tooltip-content {
            font-size: 12px;
            line-height: 1.6;
        }

        .tooltip-value {
            font-weight: 600;
            color: var(--success-light);
        }

        /* ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 1400px) {
            .grid-3 {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .main-content {
                margin-left: 0;
            }

            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                padding: 16px;
            }

            .kpi-grid {
                grid-template-columns: 1fr;
            }

            .insights-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ë¡œë”© ìƒíƒœ */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 200px;
            color: var(--grey-500);
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--grey-200);
            border-top-color: var(--primary-main);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* íƒ­ ìŠ¤íƒ€ì¼ */
        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            border-bottom: 2px solid var(--grey-200);
        }

        .tab {
            padding: 12px 24px;
            background: none;
            border: none;
            color: var(--grey-600);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
            transition: all 0.2s;
        }

        .tab:hover {
            color: var(--primary-main);
        }

        .tab.active {
            color: var(--primary-main);
            border-bottom-color: var(--primary-main);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="app-wrapper">
        <!-- ì‚¬ì´ë“œë°” -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <a href="#" class="sidebar-logo">
                    <div class="sidebar-logo-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3 3h7v7H3V3z" stroke="currentColor" stroke-width="2"/>
                            <path d="M14 3h7v7h-7V3z" stroke="currentColor" stroke-width="2"/>
                            <path d="M14 14h7v7h-7v-7z" stroke="currentColor" stroke-width="2"/>
                            <path d="M3 14h7v7H3v-7z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="sidebar-logo-text">
                        <span class="sidebar-logo-title">ì±„ë„ë³„ ë¶„ì„</span>
                        <span class="sidebar-logo-subtitle">Brand Â· Product Â· Promotion</span>
                    </div>
                </a>
            </div>

            <div class="simplebar-content-wrapper">
                <div class="sidebar-content">
                    <!-- ëŒ€ì‹œë³´ë“œ ê·¸ë£¹ -->
                    <div class="nav-group">
                        <div class="nav-group-title">ëŒ€ì‹œë³´ë“œ</div>
                        <a href="marketing_dashboard_v3.html" class="nav-item">
                            <div class="nav-item-icon">
                                <svg viewBox="0 0 24 24">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4 6h2v4h-2z"/>
                                </svg>
                            </div>
                            <span class="nav-item-text">ê´‘ê³  ì„±ê³¼ ëŒ€ì‹œë³´ë“œ</span>
                        </a>
                        <a href="funnel_dashboard.html" class="nav-item">
                            <div class="nav-item-icon">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <span class="nav-item-text">AARRR í¼ë„ ë¶„ì„</span>
                        </a>
                    </div>

                    <!-- ë¶„ì„ ê·¸ë£¹ -->
                    <div class="nav-group">
                        <div class="nav-group-title">ë¶„ì„</div>
                        <a href="#" class="nav-item active">
                            <div class="nav-item-icon">
                                <svg viewBox="0 0 24 24">
                                    <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                                </svg>
                            </div>
                            <span class="nav-item-text">ì±„ë„ë³„ ë¶„ì„</span>
                        </a>
                        <a href="creative_analysis.html" class="nav-item">
                            <div class="nav-item-icon">
                                <svg viewBox="0 0 24 24">
                                    <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                                </svg>
                            </div>
                            <span class="nav-item-text">ê´‘ê³  ì†Œì¬ë³„ ë¶„ì„</span>
                        </a>
                        <a href="timeseries_analysis.html" class="nav-item">
                            <div class="nav-item-icon">
                                <svg viewBox="0 0 24 24">
                                    <path d="M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>
                                </svg>
                            </div>
                            <span class="nav-item-text">ì‹œê³„ì—´ ë°ì´í„° ë¶„ì„</span>
                        </a>
                    </div>
                </div>
            </div>
        </aside>

        <!-- ë©”ì¸ ì»¨í…ì¸  -->
        <main class="main-content">
            <!-- ëŒ€ì‹œë³´ë“œ í—¤ë” -->
            <div class="dashboard-header">
                <h1 class="dashboard-title">ì±„ë„ë³„ ë¶„ì„ ëŒ€ì‹œë³´ë“œ</h1>
                <p class="dashboard-subtitle" id="period-info">ë°ì´í„° ë¡œë”© ì¤‘...</p>
            </div>

            <!-- ì „ì²´ ê°œìš” ì„¹ì…˜ (í•­ìƒ í‘œì‹œ) -->
            <div>
                <!-- KPI ì¹´ë“œ -->
                <div class="kpi-grid" id="kpi-grid">
                    <div class="loading">
                        <div class="loading-spinner"></div>
                    </div>
                </div>

                <!-- ì¸ì‚¬ì´íŠ¸ ì•Œë¦¼ -->
                <div class="card">
                    <div class="card-header">
                        <div>
                            <h2 class="card-title">ì£¼ìš” ì¸ì‚¬ì´íŠ¸</h2>
                            <p class="card-subtitle">ì‹¤ì‹œê°„ ì„±ê³¼ ë¶„ì„ ë° ì•Œë¦¼</p>
                        </div>
                    </div>
                    <div class="insights-grid" id="insights-grid">
                        <div class="loading">
                            <div class="loading-spinner"></div>
                        </div>
                    </div>
                </div>

                <!-- ìƒìœ„ ìœ í˜•êµ¬ë¶„ -->
                <div class="card">
                    <div class="card-header">
                        <div>
                            <h2 class="card-title">ìƒìœ„ ìœ í˜•êµ¬ë¶„ (Top 5)</h2>
                            <p class="card-subtitle">ROAS ê¸°ì¤€</p>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="topCategoriesChart"></canvas>
                    </div>
                </div>

                <!-- ì„±ë³„ ì„±ê³¼ -->
                <div class="grid-2">
                    <div class="card">
                        <div class="card-header">
                            <div>
                                <h2 class="card-title">ì„±ë³„ ì„±ê³¼</h2>
                                <p class="card-subtitle">ROAS ë¹„êµ</p>
                            </div>
                        </div>
                        <div class="chart-container small">
                            <canvas id="genderChart"></canvas>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div>
                                <h2 class="card-title">í”Œë«í¼ ì„±ê³¼</h2>
                                <p class="card-subtitle">ì „í™˜ê°’ ê¸°ì¤€</p>
                            </div>
                        </div>
                        <div class="chart-container small">
                            <canvas id="platformChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 1. ì„±ê³¼ ë¶„ì„ (ë¸Œëœë“œ/ìƒí’ˆ/í”„ë¡œëª¨ì…˜) -->
            <div class="collapsible-section">
                <div class="collapsible-header">
                    <div class="collapsible-title">
                        <span class="collapsible-icon">ğŸ†</span>
                        <span>ì„±ê³¼ ë¶„ì„ - ë¬´ì—‡ì´ ê°€ì¥ ì˜ íŒ”ë¦¬ê³  ìˆë‚˜ìš”?</span>
                    </div>
                    <button class="collapsible-toggle">
                        <span>í¼ì¹˜ê¸°</span>
                        <span class="collapsible-toggle-icon collapsed">â–¼</span>
                    </button>
                </div>
                <div class="collapsible-content">
                    <!-- í•„í„° ë²„íŠ¼ -->
                    <div class="view-type-section" style="margin-bottom: 24px;">
                        <button class="view-btn performance-filter-btn active" data-filter="brand">ë¸Œëœë“œëª…</button>
                        <button class="view-btn performance-filter-btn" data-filter="product">ìƒí’ˆëª…</button>
                        <button class="view-btn performance-filter-btn" data-filter="promotion">í”„ë¡œëª¨ì…˜</button>
                        <button class="view-btn performance-filter-btn" data-filter="targeting">íƒ€ê²ŸíŒ…</button>
                    </div>

                    <!-- ë¸Œëœë“œ ë·° -->
                    <div class="performance-filter-content active" id="brandView">
                        <!-- ì„¤ëª… ì„¹ì…˜ -->
                        <div style="font-size: 13px; color: var(--grey-700); padding: 16px 24px; background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%); margin-bottom: 16px; border-radius: 10px; line-height: 1.7;">
                            <strong style="color: var(--primary-main);">ğŸ“– ì´ ë¶„ì„ì€ ë¬´ì—‡ì„ ë³´ì—¬ì£¼ë‚˜ìš”?</strong><br>
                            ë¸Œëœë“œë³„ë¡œ ê´‘ê³  ì„±ê³¼ë¥¼ ë¹„êµí•˜ì—¬ ì–´ë–¤ ë¸Œëœë“œê°€ ê°€ì¥ ë†’ì€ ìˆ˜ìµì„ ë‚´ê³  ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>
                            <strong style="color: var(--primary-main);">ğŸ’¡ ì‚¬ìš© ë°©ë²•:</strong><br>
                            â€¢ ì™¼ìª½ ì°¨íŠ¸ì—ì„œ <strong>ROASê°€ ë†’ì€ ë¸Œëœë“œ</strong>ë¥¼ í™•ì¸í•˜ì„¸ìš”<br>
                            â€¢ ì˜¤ë¥¸ìª½ í…Œì´ë¸”ì—ì„œ ê° ë¸Œëœë“œì˜ <strong>ìƒì„¸ ì§€í‘œ</strong>(ë¹„ìš©, ì „í™˜ìˆ˜, ì „í™˜ê°’)ë¥¼ ë¹„êµí•˜ì„¸ìš”<br>
                            â€¢ <strong>ì°¨íŠ¸ ìœ„ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´</strong> ìƒì„¸í•œ ì„±ê³¼ ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤
                        </div>

                        <!-- ìë™ ì¸ì‚¬ì´íŠ¸ ë°•ìŠ¤ -->
                        <div style="margin: 16px 24px; padding: 16px; background: linear-gradient(135deg, #e3f2fd 0%, #f1f8fc 100%); border-radius: 10px; border-left: 4px solid #2196f3;">
                            <div style="font-size: 13px; font-weight: 600; color: #2196f3; margin-bottom: 8px;">
                                ğŸ’¡ ë¸Œëœë“œ ë¶„ì„ ì¸ì‚¬ì´íŠ¸
                            </div>
                            <div style="font-size: 13px; color: var(--grey-800); line-height: 1.6;">
                                ROASê°€ ë†’ì€ ë¸Œëœë“œëŠ” ì˜ˆì‚°ì„ ëŠ˜ë ¤ íˆ¬ìë¥¼ í™•ëŒ€í•˜ê³ , ROASê°€ ë‚®ì€ ë¸Œëœë“œëŠ” íƒ€ê²ŸíŒ…ì´ë‚˜ ì†Œì¬ë¥¼ ê°œì„ í•˜ì„¸ìš”.
                            </div>
                        </div>

                        <div class="grid-2">
                            <div class="card">
                                <div class="card-header">
                                    <div>
                                        <h2 class="card-title">ë¸Œëœë“œ ì„±ê³¼</h2>
                                        <p class="card-subtitle">ROAS ê¸°ì¤€ ìƒìœ„ ë¸Œëœë“œ</p>
                                    </div>
                                </div>
                                <div class="chart-container small">
                                    <canvas id="brandPerformanceChart"></canvas>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header">
                                    <div>
                                        <h2 class="card-title">ë¸Œëœë“œë³„ ìƒì„¸ ë°ì´í„°</h2>
                                        <p class="card-subtitle">ì „ì²´ ë¸Œëœë“œ ë¶„ì„</p>
                                    </div>
                                </div>
                                <table class="data-table" id="brand-detail-table">
                                    <thead>
                                        <tr>
                                            <th>ìˆœìœ„</th>
                                            <th>ë¸Œëœë“œ</th>
                                            <th>ë¹„ìš©</th>
                                            <th>ì „í™˜ìˆ˜</th>
                                            <th>ì „í™˜ê°’</th>
                                            <th>ROAS</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td colspan="6" class="loading">ë°ì´í„° ë¡œë”© ì¤‘...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- í•´ì„ ê°€ì´ë“œ -->
                        <div style="margin-top: 20px; padding: 0 24px 20px 24px;">
                            <div style="font-size: 14px; font-weight: 600; color: var(--grey-900); margin-bottom: 12px;">
                                ğŸ“‹ ë¸Œëœë“œ ì„±ê³¼ í•´ì„ ê°€ì´ë“œ
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                                <!-- ROASê°€ ë†’ì€ ë¸Œëœë“œ -->
                                <div style="padding: 14px; background: linear-gradient(135deg, #e8f5e9 0%, #f1f8f4 100%); border-radius: 8px; border-left: 3px solid #4caf50;">
                                    <div style="font-size: 13px; font-weight: 600; color: #4caf50; margin-bottom: 6px;">
                                        ğŸŒŸ ROASê°€ ë†’ì€ ë¸Œëœë“œ
                                    </div>
                                    <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                        <strong>ì˜ë¯¸:</strong> íˆ¬ì ëŒ€ë¹„ ìˆ˜ìµì´ ìš°ìˆ˜í•œ ë¸Œëœë“œ<br>
                                        <strong>ì „ëµ:</strong> ê´‘ê³  ì˜ˆì‚°ì„ ì ê·¹ í™•ëŒ€í•˜ì—¬ ë§¤ì¶œ ê·¹ëŒ€í™”
                                    </div>
                                </div>

                                <!-- ROASê°€ ë‚®ì€ ë¸Œëœë“œ -->
                                <div style="padding: 14px; background: linear-gradient(135deg, #ffebee 0%, #fff5f5 100%); border-radius: 8px; border-left: 3px solid #f44336;">
                                    <div style="font-size: 13px; font-weight: 600; color: #f44336; margin-bottom: 6px;">
                                        âš ï¸ ROASê°€ ë‚®ì€ ë¸Œëœë“œ
                                    </div>
                                    <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                        <strong>ì›ì¸:</strong> íƒ€ê²ŸíŒ… ë¯¸ìŠ¤ë§¤ì¹˜ ë˜ëŠ” ì†Œì¬ ë¬¸ì œ<br>
                                        <strong>ì „ëµ:</strong> íƒ€ê²Ÿ ê³ ê°ì¸µ ì¬ì„¤ì • ë˜ëŠ” ê´‘ê³  ì†Œì¬ êµì²´
                                    </div>
                                </div>

                                <!-- ì „í™˜ìˆ˜ê°€ ë§ì€ ë¸Œëœë“œ -->
                                <div style="padding: 14px; background: linear-gradient(135deg, #e3f2fd 0%, #f1f8fc 100%); border-radius: 8px; border-left: 3px solid #2196f3;">
                                    <div style="font-size: 13px; font-weight: 600; color: #2196f3; margin-bottom: 6px;">
                                        ğŸ’ ì „í™˜ìˆ˜ê°€ ë§ì€ ë¸Œëœë“œ
                                    </div>
                                    <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                        <strong>ì˜ë¯¸:</strong> ê³ ê° ë°˜ì‘ì´ ì¢‹ì€ ì¸ê¸° ë¸Œëœë“œ<br>
                                        <strong>ì „ëµ:</strong> ì¬ê³  í™•ë³´ ë° í”„ë¡œëª¨ì…˜ ê°•í™”ë¡œ íŒë§¤ í™•ëŒ€
                                    </div>
                                </div>

                                <!-- ë¹„ìš©ì´ ë†’ì€ ë¸Œëœë“œ -->
                                <div style="padding: 14px; background: linear-gradient(135deg, #fff3e0 0%, #fff8f0 100%); border-radius: 8px; border-left: 3px solid #ff9800;">
                                    <div style="font-size: 13px; font-weight: 600; color: #ff9800; margin-bottom: 6px;">
                                        ğŸ’° ë¹„ìš©ì´ ë†’ì€ ë¸Œëœë“œ
                                    </div>
                                    <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                        <strong>í™•ì¸ì‚¬í•­:</strong> ROASì™€ ì „í™˜ìˆ˜ë¥¼ í•¨ê»˜ í™•ì¸<br>
                                        <strong>ì£¼ì˜:</strong> ROASê°€ ë‚®ë‹¤ë©´ ì˜ˆì‚° ì¶•ì†Œ ê²€í†  í•„ìš”
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ìƒí’ˆ ë·° -->
                    <div class="performance-filter-content" id="productView" style="display: none;">
                        <!-- ì„¤ëª… ì„¹ì…˜ -->
                        <div style="font-size: 13px; color: var(--grey-700); padding: 16px 24px; background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%); margin-bottom: 16px; border-radius: 10px; line-height: 1.7;">
                            <strong style="color: var(--primary-main);">ğŸ“– ì´ ë¶„ì„ì€ ë¬´ì—‡ì„ ë³´ì—¬ì£¼ë‚˜ìš”?</strong><br>
                            ìƒí’ˆë³„ë¡œ ê´‘ê³  ì„±ê³¼ë¥¼ ë¹„êµí•˜ì—¬ ì–´ë–¤ ìƒí’ˆì´ ì‹¤ì œ ë§¤ì¶œì„ ê°€ì¥ ë§ì´ ë§Œë“¤ì–´ë‚´ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>
                            <strong style="color: var(--primary-main);">ğŸ’¡ ì‚¬ìš© ë°©ë²•:</strong><br>
                            â€¢ ì™¼ìª½ ì°¨íŠ¸ì—ì„œ <strong>ìƒìœ„ 5ê°œ ìƒí’ˆ</strong>ì˜ ROASë¥¼ ë¹„êµí•˜ì„¸ìš”<br>
                            â€¢ ì˜¤ë¥¸ìª½ í…Œì´ë¸”ì—ì„œ <strong>ëª¨ë“  ìƒí’ˆ</strong>ì˜ ì„±ê³¼ë¥¼ ìˆœìœ„ë³„ë¡œ í™•ì¸í•˜ì„¸ìš”<br>
                            â€¢ <strong>ì „í™˜ìˆ˜ê°€ ë§ìœ¼ë©´ì„œ ROASë„ ë†’ì€ ìƒí’ˆ</strong>ì´ ê°€ì¥ ìš°ìˆ˜í•œ ìƒí’ˆì…ë‹ˆë‹¤
                        </div>

                        <!-- ìë™ ì¸ì‚¬ì´íŠ¸ ë°•ìŠ¤ -->
                        <div style="margin: 16px 24px; padding: 16px; background: linear-gradient(135deg, #e8f5e9 0%, #f1f8f4 100%); border-radius: 10px; border-left: 4px solid #4caf50;">
                            <div style="font-size: 13px; font-weight: 600; color: #4caf50; margin-bottom: 8px;">
                                ğŸ’¡ ìƒí’ˆ ë¶„ì„ ì¸ì‚¬ì´íŠ¸
                            </div>
                            <div style="font-size: 13px; color: var(--grey-800); line-height: 1.6;">
                                ì„±ê³¼ê°€ ì¢‹ì€ ìƒí’ˆì€ ì¬ê³ ì™€ ê´‘ê³  ì˜ˆì‚°ì„ ì¶©ë¶„íˆ í™•ë³´í•˜ê³ , ì„±ê³¼ê°€ ë‚®ì€ ìƒí’ˆì€ í”„ë¡œëª¨ì…˜ì´ë‚˜ íƒ€ê²ŸíŒ…ì„ ë³€ê²½í•´ë³´ì„¸ìš”.
                            </div>
                        </div>

                        <div class="grid-2">
                            <div class="card">
                                <div class="card-header">
                                    <div>
                                        <h2 class="card-title">ìƒí’ˆ ì„±ê³¼</h2>
                                        <p class="card-subtitle">ROAS ê¸°ì¤€ ìƒìœ„ ìƒí’ˆ (Top 5)</p>
                                    </div>
                                </div>
                                <div class="chart-container small">
                                    <canvas id="productPerformanceChart"></canvas>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header">
                                    <div>
                                        <h2 class="card-title">ìƒí’ˆë³„ ìƒì„¸ ë°ì´í„°</h2>
                                        <p class="card-subtitle">ì „ì²´ ìƒí’ˆ ë¶„ì„</p>
                                    </div>
                                </div>
                                <table class="data-table" id="product-detail-table">
                                    <thead>
                                        <tr>
                                            <th>ìˆœìœ„</th>
                                            <th>ìƒí’ˆ</th>
                                            <th>ë¹„ìš©</th>
                                            <th>ì „í™˜ìˆ˜</th>
                                            <th>ì „í™˜ê°’</th>
                                            <th>ROAS</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td colspan="6" class="loading">ë°ì´í„° ë¡œë”© ì¤‘...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- í•´ì„ ê°€ì´ë“œ -->
                        <div style="margin-top: 20px; padding: 0 24px 20px 24px;">
                            <div style="font-size: 14px; font-weight: 600; color: var(--grey-900); margin-bottom: 12px;">
                                ğŸ“‹ ìƒí’ˆ ì„±ê³¼ í•´ì„ ê°€ì´ë“œ
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                                <!-- ìŠ¤íƒ€ ìƒí’ˆ -->
                                <div style="padding: 14px; background: linear-gradient(135deg, #e8f5e9 0%, #f1f8f4 100%); border-radius: 8px; border-left: 3px solid #4caf50;">
                                    <div style="font-size: 13px; font-weight: 600; color: #4caf50; margin-bottom: 6px;">
                                        â­ ìŠ¤íƒ€ ìƒí’ˆ (ROASâ†‘ + ì „í™˜ìˆ˜â†‘)
                                    </div>
                                    <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                        <strong>ìœ í˜•:</strong> íš¨ìœ¨ê³¼ ê·œëª¨ ëª¨ë‘ ìš°ìˆ˜<br>
                                        <strong>ì „ëµ:</strong> ìµœìš°ì„  íˆ¬ì ëŒ€ìƒ. ì¬ê³ ì™€ ì˜ˆì‚°ì„ ì¶©ë¶„íˆ í™•ë³´í•˜ì„¸ìš”
                                    </div>
                                </div>

                                <!-- ìˆ¨ì€ ë³´ì„ -->
                                <div style="padding: 14px; background: linear-gradient(135deg, #e3f2fd 0%, #f1f8fc 100%); border-radius: 8px; border-left: 3px solid #2196f3;">
                                    <div style="font-size: 13px; font-weight: 600; color: #2196f3; margin-bottom: 6px;">
                                        ğŸ’ ìˆ¨ì€ ë³´ì„ (ROASâ†‘ + ì „í™˜ìˆ˜â†“)
                                    </div>
                                    <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                        <strong>ìœ í˜•:</strong> íš¨ìœ¨ì€ ì¢‹ì§€ë§Œ ê·œëª¨ê°€ ì‘ìŒ<br>
                                        <strong>ì „ëµ:</strong> ê´‘ê³  ì˜ˆì‚° í™•ëŒ€ë¡œ ë…¸ì¶œ ì¦ëŒ€ í•„ìš”
                                    </div>
                                </div>

                                <!-- ê°œì„  í•„ìš” -->
                                <div style="padding: 14px; background: linear-gradient(135deg, #fff3e0 0%, #fff8f0 100%); border-radius: 8px; border-left: 3px solid #ff9800;">
                                    <div style="font-size: 13px; font-weight: 600; color: #ff9800; margin-bottom: 6px;">
                                        ğŸ”§ ê°œì„  í•„ìš” (ROASâ†“ + ì „í™˜ìˆ˜â†‘)
                                    </div>
                                    <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                        <strong>ìœ í˜•:</strong> ê·œëª¨ëŠ” í¬ì§€ë§Œ ë¹„íš¨ìœ¨ì <br>
                                        <strong>ì „ëµ:</strong> íƒ€ê²ŸíŒ… ì •êµí™” ë˜ëŠ” ê°€ê²© ì „ëµ ì¬ê²€í† 
                                    </div>
                                </div>

                                <!-- ì¤‘ë‹¨ ê²€í†  -->
                                <div style="padding: 14px; background: linear-gradient(135deg, #ffebee 0%, #fff5f5 100%); border-radius: 8px; border-left: 3px solid #f44336;">
                                    <div style="font-size: 13px; font-weight: 600; color: #f44336; margin-bottom: 6px;">
                                        â›” ì¤‘ë‹¨ ê²€í†  (ROASâ†“ + ì „í™˜ìˆ˜â†“)
                                    </div>
                                    <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                        <strong>ìœ í˜•:</strong> íš¨ìœ¨ê³¼ ê·œëª¨ ëª¨ë‘ ë¶€ì¡±<br>
                                        <strong>ì „ëµ:</strong> ê´‘ê³  ì¤‘ë‹¨ ë˜ëŠ” ì „ë©´ ê°œí¸ í•„ìš”
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- í”„ë¡œëª¨ì…˜ ë·° -->
                    <div class="performance-filter-content" id="promotionView" style="display: none;">
                        <!-- ì„¤ëª… ì„¹ì…˜ -->
                        <div style="font-size: 13px; color: var(--grey-700); padding: 16px 24px; background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%); margin-bottom: 16px; border-radius: 10px; line-height: 1.7;">
                            <strong style="color: var(--primary-main);">ğŸ“– ì´ ë¶„ì„ì€ ë¬´ì—‡ì„ ë³´ì—¬ì£¼ë‚˜ìš”?</strong><br>
                            í”„ë¡œëª¨ì…˜(í• ì¸, ì´ë²¤íŠ¸ ë“±)ë³„ë¡œ ê´‘ê³  ì„±ê³¼ë¥¼ ë¹„êµí•˜ì—¬ ì–´ë–¤ í”„ë¡œëª¨ì…˜ì´ ê°€ì¥ íš¨ê³¼ì ì¸ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>
                            <strong style="color: var(--primary-main);">ğŸ’¡ ì‚¬ìš© ë°©ë²•:</strong><br>
                            â€¢ ê° í”„ë¡œëª¨ì…˜ì˜ <strong>ROASì™€ ì „í™˜ìˆ˜</strong>ë¥¼ ë¹„êµí•˜ì„¸ìš”<br>
                            â€¢ <strong>ë¹„ìš© ëŒ€ë¹„ ì „í™˜ê°’</strong>ì´ ë†’ì€ í”„ë¡œëª¨ì…˜ì„ ì°¾ì•„ ìœ ì‚¬í•œ í”„ë¡œëª¨ì…˜ì„ ê¸°íší•˜ì„¸ìš”<br>
                            â€¢ ì„±ê³¼ê°€ ë‚®ì€ í”„ë¡œëª¨ì…˜ì€ í˜œíƒì„ ì¡°ì •í•˜ê±°ë‚˜ ì¤‘ë‹¨ì„ ê³ ë ¤í•˜ì„¸ìš”
                        </div>

                        <!-- ìë™ ì¸ì‚¬ì´íŠ¸ ë°•ìŠ¤ -->
                        <div style="margin: 16px 24px; padding: 16px; background: linear-gradient(135deg, #fff3e0 0%, #fff8f0 100%); border-radius: 10px; border-left: 4px solid #ff9800;">
                            <div style="font-size: 13px; font-weight: 600; color: #ff9800; margin-bottom: 8px;">
                                ğŸ’¡ í”„ë¡œëª¨ì…˜ ë¶„ì„ ì¸ì‚¬ì´íŠ¸
                            </div>
                            <div style="font-size: 13px; color: var(--grey-800); line-height: 1.6;">
                                íš¨ê³¼ì ì¸ í”„ë¡œëª¨ì…˜ì„ ì°¾ì•„ë‚´ì–´ ë°˜ë³µ ì‹¤í–‰í•˜ê³ , ì„±ê³¼ê°€ ë‚®ì€ í”„ë¡œëª¨ì…˜ì€ í˜œíƒì´ë‚˜ íƒ€ê²Ÿ ê³ ê°ì„ ì¡°ì •í•´ë³´ì„¸ìš”.
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div>
                                    <h2 class="card-title">í”„ë¡œëª¨ì…˜ë³„ ìƒì„¸ ì„±ê³¼</h2>
                                    <p class="card-subtitle">ì „ì²´ í”„ë¡œëª¨ì…˜ ë¶„ì„</p>
                                </div>
                            </div>
                            <table class="data-table" id="promotion-detail-table">
                                <thead>
                                    <tr>
                                        <th>ìˆœìœ„</th>
                                        <th>í”„ë¡œëª¨ì…˜</th>
                                        <th>ë¹„ìš©</th>
                                        <th>ì „í™˜ìˆ˜</th>
                                        <th>ì „í™˜ê°’</th>
                                        <th>ROAS</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td colspan="6" class="loading">ë°ì´í„° ë¡œë”© ì¤‘...</td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- í•´ì„ ê°€ì´ë“œ -->
                            <div style="margin-top: 20px; padding: 0 24px 20px 24px;">
                                <div style="font-size: 14px; font-weight: 600; color: var(--grey-900); margin-bottom: 12px;">
                                    ğŸ“‹ í”„ë¡œëª¨ì…˜ ì„±ê³¼ í•´ì„ ê°€ì´ë“œ
                                </div>
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                                    <!-- ì„±ê³µ í”„ë¡œëª¨ì…˜ -->
                                    <div style="padding: 14px; background: linear-gradient(135deg, #e8f5e9 0%, #f1f8f4 100%); border-radius: 8px; border-left: 3px solid #4caf50;">
                                        <div style="font-size: 13px; font-weight: 600; color: #4caf50; margin-bottom: 6px;">
                                            ğŸ‰ ì„±ê³µ í”„ë¡œëª¨ì…˜ (ROAS 200% ì´ìƒ)
                                        </div>
                                        <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                            <strong>ì˜ë¯¸:</strong> ê³ ê° ë°˜ì‘ì´ ë§¤ìš° ì¢‹ì€ í”„ë¡œëª¨ì…˜<br>
                                            <strong>ì „ëµ:</strong> ìœ ì‚¬í•œ í”„ë¡œëª¨ì…˜ ë°˜ë³µ ì‹¤í–‰ ë° í™•ëŒ€
                                        </div>
                                    </div>

                                    <!-- ê¸°ê°„ ì—°ì¥ ê²€í†  -->
                                    <div style="padding: 14px; background: linear-gradient(135deg, #e3f2fd 0%, #f1f8fc 100%); border-radius: 8px; border-left: 3px solid #2196f3;">
                                        <div style="font-size: 13px; font-weight: 600; color: #2196f3; margin-bottom: 6px;">
                                            ğŸ“… ê¸°ê°„ ì—°ì¥ ê²€í†  (ROAS 100-200%)
                                        </div>
                                        <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                            <strong>ì˜ë¯¸:</strong> ìˆ˜ìµì´ ë‚˜ëŠ” ì ì • í”„ë¡œëª¨ì…˜<br>
                                            <strong>ì „ëµ:</strong> í”„ë¡œëª¨ì…˜ ê¸°ê°„ ì—°ì¥ ë˜ëŠ” í˜œíƒ ê°•í™”
                                        </div>
                                    </div>

                                    <!-- ê°œì„  í•„ìš” -->
                                    <div style="padding: 14px; background: linear-gradient(135deg, #fff3e0 0%, #fff8f0 100%); border-radius: 8px; border-left: 3px solid #ff9800;">
                                        <div style="font-size: 13px; font-weight: 600; color: #ff9800; margin-bottom: 6px;">
                                            ğŸ”§ ê°œì„  í•„ìš” (ROAS 50-100%)
                                        </div>
                                        <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                            <strong>ì›ì¸:</strong> í˜œíƒì´ ì•½í•˜ê±°ë‚˜ íƒ€ê²Ÿì´ ë¶€ì •í™•<br>
                                            <strong>ì „ëµ:</strong> í• ì¸ìœ¨ ì¡°ì • ë˜ëŠ” íƒ€ê²Ÿ ê³ ê° ì¬ì„¤ì •
                                        </div>
                                    </div>

                                    <!-- ì¤‘ë‹¨ ê²€í†  -->
                                    <div style="padding: 14px; background: linear-gradient(135deg, #ffebee 0%, #fff5f5 100%); border-radius: 8px; border-left: 3px solid #f44336;">
                                        <div style="font-size: 13px; font-weight: 600; color: #f44336; margin-bottom: 6px;">
                                            â›” ì¤‘ë‹¨ ê²€í†  (ROAS 50% ë¯¸ë§Œ)
                                        </div>
                                        <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                            <strong>ë¬¸ì œ:</strong> ë¹„ìš© ëŒ€ë¹„ ìˆ˜ìµì´ ë§¤ìš° ë‚®ìŒ<br>
                                            <strong>ì „ëµ:</strong> í”„ë¡œëª¨ì…˜ ì¦‰ì‹œ ì¤‘ë‹¨ ë° ì›ì¸ ë¶„ì„
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- íƒ€ê²ŸíŒ… ë·° -->
                    <div class="performance-filter-content" id="targetingView" style="display: none;">
                        <!-- ì„¤ëª… ì„¹ì…˜ -->
                        <div style="font-size: 13px; color: var(--grey-700); padding: 16px 24px; background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%); margin-bottom: 16px; border-radius: 10px; line-height: 1.7;">
                            <strong style="color: var(--primary-main);">ğŸ“– ì´ ë¶„ì„ì€ ë¬´ì—‡ì„ ë³´ì—¬ì£¼ë‚˜ìš”?</strong><br>
                            ì—°ë ¹ê³¼ ì„±ë³„ ì¡°í•©ë³„ë¡œ ì–´ë–¤ íƒ€ê²Ÿ ê³ ê°ì¸µì´ ê°€ì¥ ë†’ì€ ì„±ê³¼ë¥¼ ë‚´ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>
                            <strong style="color: var(--primary-main);">ğŸ’¡ ì‚¬ìš© ë°©ë²•:</strong><br>
                            â€¢ ì²« ë²ˆì§¸ í…Œì´ë¸”ì—ì„œ <strong>ìµœê³  ì„±ê³¼ ì—°ë ¹ x ì„±ë³„ ì¡°í•©</strong>ì„ í™•ì¸í•˜ì„¸ìš”<br>
                            â€¢ ë‘ ë²ˆì§¸ í…Œì´ë¸”ì—ì„œ <strong>ìµœê³  ì„±ê³¼ ê´‘ê³ ì„¸íŠ¸ Top 10</strong>ì„ í™•ì¸í•˜ì„¸ìš”<br>
                            â€¢ ROASê°€ ë†’ì€ íƒ€ê²Ÿ ì¡°í•©ì— <strong>ì˜ˆì‚°ì„ ì§‘ì¤‘</strong>í•˜ê³ , ë‚®ì€ ì¡°í•©ì€ ì˜ˆì‚°ì„ ì¤„ì´ì„¸ìš”
                        </div>

                        <!-- ìë™ ì¸ì‚¬ì´íŠ¸ ë°•ìŠ¤ -->
                        <div style="margin: 16px 24px; padding: 16px; background: linear-gradient(135deg, #f3e5f5 0%, #faf5fc 100%); border-radius: 10px; border-left: 4px solid #9c27b0;">
                            <div style="font-size: 13px; font-weight: 600; color: #9c27b0; margin-bottom: 8px;">
                                ğŸ’¡ íƒ€ê²ŸíŒ… ë¶„ì„ ì¸ì‚¬ì´íŠ¸
                            </div>
                            <div style="font-size: 13px; color: var(--grey-800); line-height: 1.6;">
                                ì„±ê³¼ê°€ ì¢‹ì€ íƒ€ê²Ÿ ì¡°í•©ì„ ë°œê²¬í–ˆë‹¤ë©´, í•´ë‹¹ ì¡°í•©ìœ¼ë¡œ ì‹ ê·œ ê´‘ê³ ì„¸íŠ¸ë¥¼ ë§Œë“¤ì–´ í™•ì¥í•˜ì„¸ìš”. ì„±ê³¼ê°€ ë‚®ì€ íƒ€ê²Ÿì€ ê³¼ê°íˆ ì œì™¸í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì…ë‹ˆë‹¤.
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div>
                                    <h2 class="card-title">ì—°ë ¹ x ì„±ë³„ ì¡°í•©</h2>
                                    <p class="card-subtitle">ìµœê³  ì„±ê³¼ íƒ€ê²Ÿ ì¡°í•©</p>
                                </div>
                            </div>
                            <table class="data-table" id="age-gender-table">
                                <thead>
                                    <tr>
                                        <th>ìˆœìœ„</th>
                                        <th>ê´‘ê³ ì„¸íŠ¸</th>
                                        <th>ì—°ë ¹</th>
                                        <th>ì„±ë³„</th>
                                        <th>ROAS</th>
                                        <th>ì „í™˜ìˆ˜</th>
                                        <th>ì¶”ì²œì‚¬í•­</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td colspan="7" class="loading">ë°ì´í„° ë¡œë”© ì¤‘...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <!-- ìµœê³  ì„±ê³¼ ê´‘ê³ ì„¸íŠ¸ -->
                        <div class="card">
                            <div class="card-header">
                                <div>
                                    <h2 class="card-title">ìµœê³  ì„±ê³¼ ê´‘ê³ ì„¸íŠ¸ (Top 10)</h2>
                                    <p class="card-subtitle">ROAS ê¸°ì¤€</p>
                                </div>
                            </div>
                            <table class="data-table" id="top-adsets-table">
                                <thead>
                                    <tr>
                                        <th>ìˆœìœ„</th>
                                        <th>ìº í˜ì¸</th>
                                        <th>ê´‘ê³ ì„¸íŠ¸</th>
                                        <th>ìœ í˜•êµ¬ë¶„</th>
                                        <th>ë¹„ìš©</th>
                                        <th>ì „í™˜ìˆ˜</th>
                                        <th>ì „í™˜ê°’</th>
                                        <th>ROAS</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td colspan="8" class="loading">ë°ì´í„° ë¡œë”© ì¤‘...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <!-- í•´ì„ ê°€ì´ë“œ -->
                        <div style="margin-top: 20px; padding: 0 24px 20px 24px;">
                            <div style="font-size: 14px; font-weight: 600; color: var(--grey-900); margin-bottom: 12px;">
                                ğŸ“‹ íƒ€ê²ŸíŒ… ì„±ê³¼ í•´ì„ ê°€ì´ë“œ
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                                <!-- í™©ê¸ˆ íƒ€ê²Ÿ -->
                                <div style="padding: 14px; background: linear-gradient(135deg, #e8f5e9 0%, #f1f8f4 100%); border-radius: 8px; border-left: 3px solid #4caf50;">
                                    <div style="font-size: 13px; font-weight: 600; color: #4caf50; margin-bottom: 6px;">
                                        ğŸ¯ í™©ê¸ˆ íƒ€ê²Ÿ (ROAS 300% ì´ìƒ)
                                    </div>
                                    <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                        <strong>ì˜ë¯¸:</strong> ê°€ì¥ ìˆ˜ìµì„±ì´ ë†’ì€ íƒ€ê²Ÿ ì¡°í•©<br>
                                        <strong>ì „ëµ:</strong> ë™ì¼ ì¡°í•©ìœ¼ë¡œ ê´‘ê³ ì„¸íŠ¸ ì¶”ê°€ ìƒì„±í•˜ì—¬ í™•ì¥
                                    </div>
                                </div>

                                <!-- ìš°ìˆ˜ íƒ€ê²Ÿ -->
                                <div style="padding: 14px; background: linear-gradient(135deg, #e3f2fd 0%, #f1f8fc 100%); border-radius: 8px; border-left: 3px solid #2196f3;">
                                    <div style="font-size: 13px; font-weight: 600; color: #2196f3; margin-bottom: 6px;">
                                        â­ ìš°ìˆ˜ íƒ€ê²Ÿ (ROAS 150-300%)
                                    </div>
                                    <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                        <strong>ì˜ë¯¸:</strong> ì•ˆì •ì ì¸ ìˆ˜ìµì„ ë‚´ëŠ” íƒ€ê²Ÿ<br>
                                        <strong>ì „ëµ:</strong> ì˜ˆì‚° ìœ ì§€ ë° ì ì§„ì  í™•ëŒ€
                                    </div>
                                </div>

                                <!-- ì¬ê²€í†  í•„ìš” -->
                                <div style="padding: 14px; background: linear-gradient(135deg, #fff3e0 0%, #fff8f0 100%); border-radius: 8px; border-left: 3px solid #ff9800;">
                                    <div style="font-size: 13px; font-weight: 600; color: #ff9800; margin-bottom: 6px;">
                                        ğŸ” ì¬ê²€í†  í•„ìš” (ROAS 50-150%)
                                    </div>
                                    <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                        <strong>ì›ì¸:</strong> íƒ€ê²Ÿ ë²”ìœ„ê°€ ë„ˆë¬´ ë„“ê±°ë‚˜ ì¢ìŒ<br>
                                        <strong>ì „ëµ:</strong> ì—°ë ¹ëŒ€ ì¡°ì • ë˜ëŠ” ì„±ë³„ íƒ€ê²Ÿ ì¬ì„¤ì •
                                    </div>
                                </div>

                                <!-- ì œì™¸ ê¶Œì¥ -->
                                <div style="padding: 14px; background: linear-gradient(135deg, #ffebee 0%, #fff5f5 100%); border-radius: 8px; border-left: 3px solid #f44336;">
                                    <div style="font-size: 13px; font-weight: 600; color: #f44336; margin-bottom: 6px;">
                                        ğŸš« ì œì™¸ ê¶Œì¥ (ROAS 50% ë¯¸ë§Œ)
                                    </div>
                                    <div style="font-size: 12px; color: var(--grey-700); line-height: 1.5;">
                                        <strong>ë¬¸ì œ:</strong> í•´ë‹¹ íƒ€ê²Ÿì— ì œí’ˆ ìˆ˜ìš” ì—†ìŒ<br>
                                        <strong>ì „ëµ:</strong> íƒ€ê²Ÿì—ì„œ ì œì™¸í•˜ê³  ì˜ˆì‚°ì„ ë‹¤ë¥¸ ê³³ì— íˆ¬ì
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2. ì¸ì‚¬ì´íŠ¸ ë° ì•¡ì…˜ í”Œëœ -->
            <div class="collapsible-section">
                <div class="collapsible-header">
                    <div class="collapsible-title">
                        <span class="collapsible-icon">ğŸ’¡</span>
                        <span>ì¸ì‚¬ì´íŠ¸ ë° ì•¡ì…˜ í”Œëœ - ì§€ê¸ˆ ë¬´ì—‡ì„ í•´ì•¼ í•˜ë‚˜ìš”?</span>
                    </div>
                    <button class="collapsible-toggle">
                        <span>í¼ì¹˜ê¸°</span>
                        <span class="collapsible-toggle-icon collapsed">â–¼</span>
                    </button>
                </div>
                <div class="collapsible-content">
                    <!-- í•„í„° ë²„íŠ¼ -->
                    <div class="view-type-section" style="margin-bottom: 24px;">
                        <button class="view-btn insight-filter-btn active" data-filter="alerts">ì•Œë¦¼ ë° ê²½ê³ </button>
                        <button class="view-btn insight-filter-btn" data-filter="recommendations">ìµœì í™” ì¶”ì²œ</button>
                    </div>

                    <!-- ì•Œë¦¼ ë·° -->
                    <div class="insight-filter-content active" id="alertsView">
                        <!-- ì„¤ëª… ì„¹ì…˜ -->
                        <div style="font-size: 13px; color: var(--grey-700); padding: 16px 24px; background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%); margin-bottom: 16px; border-radius: 10px; line-height: 1.7;">
                            <strong style="color: var(--primary-main);">ğŸ“– ì´ ì„¹ì…˜ì€ ë¬´ì—‡ì„ ë³´ì—¬ì£¼ë‚˜ìš”?</strong><br>
                            í˜„ì¬ ê´‘ê³  ìº í˜ì¸ì—ì„œ <strong>ì£¼ì˜ê°€ í•„ìš”í•œ í•­ëª©</strong>ê³¼ <strong>ë†“ì¹˜ì§€ ë§ì•„ì•¼ í•  ê¸°íšŒ</strong>ë¥¼ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>
                            <strong style="color: var(--primary-main);">ğŸ’¡ ì•Œë¦¼ ìœ í˜•:</strong><br>
                            â€¢ <span style="color: #d32f2f; font-weight: 600;">ë†’ìŒ</span>: ì¦‰ì‹œ ì¡°ì¹˜ê°€ í•„ìš”í•œ ì¤‘ìš” ê²½ê³ <br>
                            â€¢ <span style="color: #f57c00; font-weight: 600;">ê²½ê³ </span>: ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë³¼ í•„ìš”ê°€ ìˆëŠ” í•­ëª©<br>
                            â€¢ <span style="color: #1976d2; font-weight: 600;">ê¸°íšŒ</span>: ì„±ê³¼ ê°œì„  ê¸°íšŒê°€ ìˆëŠ” í•­ëª©
                        </div>

                        <!-- ìë™ ì¸ì‚¬ì´íŠ¸ ë°•ìŠ¤ -->
                        <div style="margin: 16px 24px; padding: 16px; background: linear-gradient(135deg, #fff3e0 0%, #fff8f0 100%); border-radius: 10px; border-left: 4px solid #ff9800;">
                            <div style="font-size: 13px; font-weight: 600; color: #ff9800; margin-bottom: 8px;">
                                âš¡ ë¹ ë¥¸ ëŒ€ì‘ ê°€ì´ë“œ
                            </div>
                            <div style="font-size: 13px; color: var(--grey-800); line-height: 1.6;">
                                <strong>'ë†’ìŒ'</strong> ì•Œë¦¼ì€ ê°€ì¥ ë¨¼ì € í™•ì¸í•˜ê³ , <strong>'ê¸°íšŒ'</strong> í•­ëª©ì€ ì˜ˆì‚° í™•ëŒ€ë¥¼ ê³ ë ¤í•˜ì„¸ìš”.
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div>
                                    <h2 class="card-title">âš ï¸ ì£¼ì˜ê°€ í•„ìš”í•œ í•­ëª©</h2>
                                    <p class="card-subtitle">ì„±ê³¼ ê²½ê³  ë° ê¸°íšŒ í¬ì°©</p>
                                </div>
                            </div>
                            <div id="all-alerts">
                                <div class="loading">
                                    <div class="loading-spinner"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ì¶”ì²œì‚¬í•­ ë·° -->
                    <div class="insight-filter-content" id="recommendationsView" style="display: none;">
                        <!-- ì„¤ëª… ì„¹ì…˜ -->
                        <div style="font-size: 13px; color: var(--grey-700); padding: 16px 24px; background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%); margin-bottom: 16px; border-radius: 10px; line-height: 1.7;">
                            <strong style="color: var(--primary-main);">ğŸ“– ì´ ì„¹ì…˜ì€ ë¬´ì—‡ì„ ë³´ì—¬ì£¼ë‚˜ìš”?</strong><br>
                            í˜„ì¬ ê´‘ê³  ì„±ê³¼ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ <strong>ë°”ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ìµœì í™” ì „ëµ</strong>ì„ ì œì•ˆí•©ë‹ˆë‹¤.<br><br>
                            <strong style="color: var(--primary-main);">ğŸ’¡ ìš°ì„ ìˆœìœ„ ê°€ì´ë“œ:</strong><br>
                            â€¢ <span style="color: #d32f2f; font-weight: 600;">High Priority</span>: ê°€ì¥ ë¨¼ì € ì‹¤í–‰í•´ì•¼ í•  í•µì‹¬ ì „ëµ<br>
                            â€¢ <span style="color: #f57c00; font-weight: 600;">Medium Priority</span>: íš¨ê³¼ê°€ ê¸°ëŒ€ë˜ëŠ” ì¤‘ìš” ì „ëµ<br>
                            â€¢ <span style="color: #388e3c; font-weight: 600;">Low Priority</span>: ì—¬ìœ ê°€ ìˆì„ ë•Œ ì‹œë„í•  ì „ëµ
                        </div>

                        <!-- ìë™ ì¸ì‚¬ì´íŠ¸ ë°•ìŠ¤ -->
                        <div style="margin: 16px 24px; padding: 16px; background: linear-gradient(135deg, #e8f5e9 0%, #f1f8f4 100%); border-radius: 10px; border-left: 4px solid #4caf50;">
                            <div style="font-size: 13px; font-weight: 600; color: #4caf50; margin-bottom: 8px;">
                                ğŸ¯ ì‹¤í–‰ íŒ
                            </div>
                            <div style="font-size: 13px; color: var(--grey-800); line-height: 1.6;">
                                ê° ì¶”ì²œì‚¬í•­ì˜ <strong>'ì˜ˆìƒ íš¨ê³¼'</strong>ë¥¼ í™•ì¸í•˜ê³ , High Priorityë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´ ê°€ì¥ íš¨ìœ¨ì ìœ¼ë¡œ ì„±ê³¼ë¥¼ ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div>
                                    <h2 class="card-title">ğŸ¯ ì‹¤í–‰ ê°€ëŠ¥í•œ ì•¡ì…˜ í”Œëœ</h2>
                                    <p class="card-subtitle">ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” ìµœì í™” ì „ëµ</p>
                                </div>
                            </div>
                            <div id="all-recommendations">
                                <div class="loading">
                                    <div class="loading-spinner"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let insightsData = null;

        // ë°ì´í„° ë¡œë”©
        async function loadData() {
            try {
                const response = await fetch('type/insights.json');
                insightsData = await response.json();

                // ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™”
                initDashboard();
            } catch (error) {
                console.error('ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:', error);
                alert('ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™”
        function initDashboard() {
            updatePeriodInfo();
            renderKPICards();
            renderInsights();
            renderTopCategoriesChart();
            renderGenderChart();
            renderPlatformChart();
            renderBrandPerformanceChart();
            renderProductPerformanceChart();
            renderTopAdsetsTable();
            renderAgeGenderTable();
            renderBrandDetailTable();
            renderProductDetailTable();
            renderPromotionDetailTable();
            renderAllAlerts();
            renderAllRecommendations();
        }

        // ê¸°ê°„ ì •ë³´ ì—…ë°ì´íŠ¸
        function updatePeriodInfo() {
            const period = insightsData.summary.analysis_period;
            document.getElementById('period-info').textContent =
                `ë¶„ì„ ê¸°ê°„: ${period.start_date} ~ ${period.end_date} (${period.total_days}ì¼)`;
        }

        // KPI ì¹´ë“œ ë Œë”ë§
        function renderKPICards() {
            const summary = insightsData.summary;
            const overall = insightsData.overall;

            const kpis = [
                {
                    title: 'ì´ ë¹„ìš©',
                    value: formatCurrency(summary.total_cost),
                    icon: 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z',
                    color: '--primary-main',
                    bgColor: '--primary-light'
                },
                {
                    title: 'ì´ ì „í™˜ìˆ˜',
                    value: formatNumber(summary.total_conversions),
                    icon: 'M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z',
                    color: '--success-main',
                    bgColor: '--success-light'
                },
                {
                    title: 'ì´ ì „í™˜ê°’',
                    value: formatCurrency(summary.total_revenue),
                    icon: 'M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z',
                    color: '--secondary-main',
                    bgColor: '--secondary-light'
                },
                {
                    title: 'Overall ROAS',
                    value: formatPercent(summary.overall_roas),
                    change: overall.trend.change_percent,
                    changeLabel: overall.trend.direction === 'growing' ? 'ì„±ì¥' : overall.trend.direction === 'declining' ? 'ê°ì†Œ' : 'ì•ˆì •',
                    icon: 'M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z',
                    color: overall.trend.direction === 'growing' ? '--success-main' : overall.trend.direction === 'declining' ? '--error-main' : '--grey-500',
                    bgColor: overall.trend.direction === 'growing' ? '--success-light' : overall.trend.direction === 'declining' ? '--error-light' : '--grey-100'
                },
                {
                    title: 'Overall CPA',
                    value: formatCurrency(summary.overall_cpa),
                    icon: 'M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z',
                    color: '--warning-main',
                    bgColor: '--warning-light'
                }
            ];

            const html = kpis.map(kpi => `
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-title">${kpi.title}</span>
                        <div class="kpi-icon" style="background-color: var(${kpi.bgColor})">
                            <svg viewBox="0 0 24 24" fill="var(${kpi.color})" xmlns="http://www.w3.org/2000/svg">
                                <path d="${kpi.icon}"/>
                            </svg>
                        </div>
                    </div>
                    <div class="kpi-value">${kpi.value}</div>
                    ${kpi.change !== undefined ? `
                        <div class="kpi-change ${kpi.change > 0 ? 'positive' : kpi.change < 0 ? 'negative' : 'neutral'}">
                            <span>${kpi.change > 0 ? 'â–²' : kpi.change < 0 ? 'â–¼' : 'â€¢'} ${Math.abs(kpi.change).toFixed(1)}%</span>
                            <span>${kpi.changeLabel}</span>
                        </div>
                    ` : ''}
                </div>
            `).join('');

            document.getElementById('kpi-grid').innerHTML = html;
        }

        // ì¸ì‚¬ì´íŠ¸ ë Œë”ë§
        function renderInsights() {
            const alerts = insightsData.alerts.slice(0, 6); // ìƒìœ„ 6ê°œë§Œ í‘œì‹œ

            const html = alerts.map(alert => {
                const severityClass = alert.severity === 'opportunity' ? 'opportunity' :
                                     alert.severity === 'high' ? 'high' :
                                     alert.severity === 'warning' ? 'medium' : 'low';

                return `
                    <div class="insight-card ${severityClass}">
                        <div class="insight-type">${getSeverityLabel(alert.severity)}</div>
                        <div class="insight-message">${alert.message}</div>
                        ${alert.value !== undefined ? `
                            <div class="insight-value">ì§€í‘œ: ${formatValue(alert.value)}${alert.type.includes('roas') || alert.type.includes('revenue') || alert.type.includes('change') ? '%' : ''}</div>
                        ` : ''}
                    </div>
                `;
            }).join('');

            document.getElementById('insights-grid').innerHTML = html || '<p style="color: var(--grey-500);">ì¸ì‚¬ì´íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
        }

        // ìƒìœ„ ìœ í˜•êµ¬ë¶„ ì°¨íŠ¸
        function renderTopCategoriesChart() {
            const categories = insightsData.top_categories;

            const ctx = document.getElementById('topCategoriesChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: categories.map(c => c.name),
                    datasets: [{
                        label: 'ROAS (%)',
                        data: categories.map(c => c.roas),
                        backgroundColor: 'rgba(103, 58, 183, 0.8)',
                        borderColor: 'rgba(103, 58, 183, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const item = categories[context.dataIndex];
                                    return [
                                        `ROAS: ${formatPercent(item.roas)}`,
                                        `ë¹„ìš©: ${formatCurrency(item.cost)}`,
                                        `ì „í™˜ìˆ˜: ${formatNumber(item.conversions)}`,
                                        `ì „í™˜ê°’: ${formatCurrency(item.revenue)}`
                                    ];
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'ROAS (%)'
                            }
                        }
                    }
                }
            });
        }

        // ì„±ë³„ ì°¨íŠ¸
        function renderGenderChart() {
            const genders = insightsData.gender_performance.filter(g => g.cost > 0);

            const ctx = document.getElementById('genderChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: genders.map(g => g.gender),
                    datasets: [{
                        data: genders.map(g => g.roas),
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.8)',
                            'rgba(54, 162, 235, 0.8)',
                            'rgba(255, 206, 86, 0.8)',
                            'rgba(75, 192, 192, 0.8)',
                            'rgba(153, 102, 255, 0.8)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const item = genders[context.dataIndex];
                                    return [
                                        `${item.gender}`,
                                        `ROAS: ${formatPercent(item.roas)}`,
                                        `ì „í™˜ìˆ˜: ${formatNumber(item.conversions)}`,
                                        `ì„±ê³¼: ${item.performance_level}`
                                    ];
                                }
                            }
                        }
                    }
                }
            });
        }

        // í”Œë«í¼ ì°¨íŠ¸
        function renderPlatformChart() {
            const platforms = insightsData.platform_performance;

            const ctx = document.getElementById('platformChart').getContext('2d');
            new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: platforms.map(p => p.platform),
                    datasets: [{
                        data: platforms.map(p => p.revenue),
                        backgroundColor: [
                            'rgba(103, 58, 183, 0.8)',
                            'rgba(33, 150, 243, 0.8)',
                            'rgba(0, 200, 83, 0.8)',
                            'rgba(255, 171, 0, 0.8)',
                            'rgba(255, 23, 68, 0.8)',
                            'rgba(156, 39, 176, 0.8)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const item = platforms[context.dataIndex];
                                    return [
                                        `${item.platform}`,
                                        `ì „í™˜ê°’: ${formatCurrency(item.revenue)}`,
                                        `ROAS: ${formatPercent(item.roas)}`,
                                        `ì „í™˜ìˆ˜: ${formatNumber(item.conversions)}`
                                    ];
                                }
                            }
                        }
                    }
                }
            });
        }

        // ë¸Œëœë“œ ì„±ê³¼ ì°¨íŠ¸
        function renderBrandPerformanceChart() {
            const brands = insightsData.brand_performance;

            const ctx = document.getElementById('brandPerformanceChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: brands.map(b => b.brand),
                    datasets: [{
                        label: 'ROAS (%)',
                        data: brands.map(b => b.roas),
                        backgroundColor: 'rgba(0, 200, 83, 0.8)',
                        borderColor: 'rgba(0, 200, 83, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const item = brands[context.dataIndex];
                                    return [
                                        `ROAS: ${formatPercent(item.roas)}`,
                                        `ë¹„ìš©: ${formatCurrency(item.cost)}`,
                                        `ì „í™˜ìˆ˜: ${formatNumber(item.conversions)}`,
                                        `ì „í™˜ê°’: ${formatCurrency(item.revenue)}`
                                    ];
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'ROAS (%)'
                            }
                        }
                    }
                }
            });
        }

        // ìƒí’ˆ ì„±ê³¼ ì°¨íŠ¸
        function renderProductPerformanceChart() {
            const products = insightsData.product_performance.slice(0, 5);

            const ctx = document.getElementById('productPerformanceChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: products.map(p => p.product),
                    datasets: [{
                        label: 'ROAS (%)',
                        data: products.map(p => p.roas),
                        backgroundColor: 'rgba(33, 150, 243, 0.8)',
                        borderColor: 'rgba(33, 150, 243, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const item = products[context.dataIndex];
                                    return [
                                        `ROAS: ${formatPercent(item.roas)}`,
                                        `ë¹„ìš©: ${formatCurrency(item.cost)}`,
                                        `ì „í™˜ìˆ˜: ${formatNumber(item.conversions)}`,
                                        `ì „í™˜ê°’: ${formatCurrency(item.revenue)}`
                                    ];
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'ROAS (%)'
                            }
                        }
                    }
                }
            });
        }

        // ìµœê³  ì„±ê³¼ ê´‘ê³ ì„¸íŠ¸ í…Œì´ë¸”
        function renderTopAdsetsTable() {
            const adsets = insightsData.top_adsets;

            const tbody = document.querySelector('#top-adsets-table tbody');
            tbody.innerHTML = adsets.map((adset, index) => `
                <tr>
                    <td><strong>#${index + 1}</strong></td>
                    <td>${adset.campaign}</td>
                    <td>${adset.adset}</td>
                    <td><span class="badge low">${adset.category}</span></td>
                    <td>${formatCurrency(adset.cost)}</td>
                    <td>${formatNumber(adset.conversions)}</td>
                    <td>${formatCurrency(adset.revenue)}</td>
                    <td><strong style="color: var(--success-main)">${formatPercent(adset.roas)}</strong></td>
                </tr>
            `).join('');
        }

        // ì—°ë ¹ x ì„±ë³„ í…Œì´ë¸”
        function renderAgeGenderTable() {
            const combinations = insightsData.age_gender_combinations;

            const tbody = document.querySelector('#age-gender-table tbody');
            tbody.innerHTML = combinations.map((combo, index) => `
                <tr>
                    <td><strong>#${index + 1}</strong></td>
                    <td>${combo.adset}</td>
                    <td>${combo.age}</td>
                    <td>${combo.gender}</td>
                    <td><strong style="color: var(--success-main)">${formatPercent(combo.roas)}</strong></td>
                    <td>${formatNumber(combo.conversions)}</td>
                    <td>${combo.recommendation}</td>
                </tr>
            `).join('');
        }

        // ë¸Œëœë“œ ìƒì„¸ í…Œì´ë¸”
        function renderBrandDetailTable() {
            const brands = insightsData.brand_performance;

            const tbody = document.querySelector('#brand-detail-table tbody');
            tbody.innerHTML = brands.map((brand, index) => `
                <tr>
                    <td><strong>#${index + 1}</strong></td>
                    <td>${brand.brand}</td>
                    <td>${formatCurrency(brand.cost)}</td>
                    <td>${formatNumber(brand.conversions)}</td>
                    <td>${formatCurrency(brand.revenue)}</td>
                    <td><strong style="color: var(--success-main)">${formatPercent(brand.roas)}</strong></td>
                </tr>
            `).join('');
        }

        // ìƒí’ˆ ìƒì„¸ í…Œì´ë¸”
        function renderProductDetailTable() {
            const products = insightsData.product_performance;

            const tbody = document.querySelector('#product-detail-table tbody');
            tbody.innerHTML = products.map((product, index) => `
                <tr>
                    <td><strong>#${index + 1}</strong></td>
                    <td>${product.product}</td>
                    <td>${formatCurrency(product.cost)}</td>
                    <td>${formatNumber(product.conversions)}</td>
                    <td>${formatCurrency(product.revenue)}</td>
                    <td><strong style="color: var(--success-main)">${formatPercent(product.roas)}</strong></td>
                </tr>
            `).join('');
        }

        // í”„ë¡œëª¨ì…˜ ìƒì„¸ í…Œì´ë¸”
        function renderPromotionDetailTable() {
            const promotions = insightsData.promotion_performance;

            const tbody = document.querySelector('#promotion-detail-table tbody');
            tbody.innerHTML = promotions.map((promo, index) => `
                <tr>
                    <td><strong>#${index + 1}</strong></td>
                    <td>${promo.promotion}</td>
                    <td>${formatCurrency(promo.cost)}</td>
                    <td>${formatNumber(promo.conversions)}</td>
                    <td>${formatCurrency(promo.revenue)}</td>
                    <td><strong style="color: var(--success-main)">${formatPercent(promo.roas)}</strong></td>
                </tr>
            `).join('');
        }

        // ì „ì²´ ì•Œë¦¼ ë Œë”ë§
        function renderAllAlerts() {
            const alerts = insightsData.alerts;

            const html = alerts.map(alert => {
                const severityClass = alert.severity === 'opportunity' ? 'opportunity' :
                                     alert.severity === 'high' ? 'high' :
                                     alert.severity === 'warning' ? 'medium' : 'low';

                return `
                    <div class="insight-card ${severityClass}" style="margin-bottom: 16px;">
                        <div class="insight-type">${getSeverityLabel(alert.severity)} - ${alert.type}</div>
                        <div class="insight-message">${alert.message}</div>
                        ${alert.value !== undefined ? `
                            <div class="insight-value">ì§€í‘œ: ${formatValue(alert.value)}${alert.type.includes('roas') || alert.type.includes('revenue') || alert.type.includes('change') ? '%' : ''}</div>
                        ` : ''}
                        ${alert.category ? `<div class="insight-value">ì¹´í…Œê³ ë¦¬: ${alert.category}</div>` : ''}
                        ${alert.gender ? `<div class="insight-value">ì„±ë³„: ${alert.gender}</div>` : ''}
                    </div>
                `;
            }).join('');

            document.getElementById('all-alerts').innerHTML = html || '<p style="color: var(--grey-500);">ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
        }

        // ì „ì²´ ì¶”ì²œì‚¬í•­ ë Œë”ë§
        function renderAllRecommendations() {
            const recommendations = insightsData.recommendations;

            const html = recommendations.map((rec, index) => {
                const priorityClass = rec.priority === 'high' ? 'high' : rec.priority === 'medium' ? 'medium' : 'low';

                return `
                    <div class="card" style="margin-bottom: 16px;">
                        <div style="display: flex; align-items: start; justify-content: space-between; margin-bottom: 12px;">
                            <div>
                                <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">
                                    ${index + 1}. ${rec.title}
                                </h3>
                                <span class="badge ${priorityClass}">${rec.priority} priority</span>
                            </div>
                        </div>
                        <p style="color: var(--grey-700); margin-bottom: 12px; line-height: 1.6;">
                            ${rec.description}
                        </p>
                        <div style="display: flex; align-items: center; gap: 8px; padding: 12px; background: var(--grey-50); border-radius: 8px;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--success-main)" stroke-width="2">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                            </svg>
                            <span style="font-size: 13px; color: var(--grey-700); font-weight: 500;">
                                ì˜ˆìƒ íš¨ê³¼: ${rec.expected_impact}
                            </span>
                        </div>
                    </div>
                `;
            }).join('');

            document.getElementById('all-recommendations').innerHTML = html || '<p style="color: var(--grey-500);">ì¶”ì²œì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
        }

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
        function formatCurrency(value) {
            if (value === null || value === undefined) return 'â‚©0';
            return 'â‚©' + Math.round(value).toLocaleString('ko-KR');
        }

        function formatNumber(value) {
            if (value === null || value === undefined) return '0';
            return Math.round(value).toLocaleString('ko-KR');
        }

        function formatPercent(value) {
            if (value === null || value === undefined) return '0%';
            return value.toFixed(1) + '%';
        }

        function formatValue(value) {
            if (value === null || value === undefined) return '0';
            return value.toFixed(1);
        }

        function getSeverityLabel(severity) {
            const labels = {
                'high': 'ë†’ìŒ',
                'warning': 'ê²½ê³ ',
                'opportunity': 'ê¸°íšŒ',
                'positive': 'ê¸ì •',
                'low': 'ë‚®ìŒ'
            };
            return labels[severity] || severity;
        }

        // ì ‘ê¸°/í¼ì¹˜ê¸° ê¸°ëŠ¥
        document.querySelectorAll('.collapsible-header').forEach(header => {
            header.addEventListener('click', function() {
                const content = this.nextElementSibling;
                const icon = this.querySelector('.collapsible-toggle-icon');
                const toggleText = this.querySelector('.collapsible-toggle span:first-child');

                if (content.classList.contains('expanded')) {
                    // ì ‘ê¸°
                    content.classList.remove('expanded');
                    icon.classList.add('collapsed');
                    toggleText.textContent = 'í¼ì¹˜ê¸°';
                } else {
                    // í¼ì¹˜ê¸°
                    content.classList.add('expanded');
                    icon.classList.remove('collapsed');
                    toggleText.textContent = 'ì ‘ê¸°';
                }
            });
        });

        // ì„±ê³¼ ë¶„ì„ í•„í„° ë²„íŠ¼
        document.querySelectorAll('.performance-filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const filter = this.dataset.filter;

                // ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ë³€ê²½
                document.querySelectorAll('.performance-filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');

                // ì»¨í…ì¸  í‘œì‹œ
                document.querySelectorAll('.performance-filter-content').forEach(content => {
                    content.style.display = 'none';
                    content.classList.remove('active');
                });

                const viewMap = {
                    'brand': 'brandView',
                    'product': 'productView',
                    'promotion': 'promotionView',
                    'targeting': 'targetingView'
                };

                const targetView = document.getElementById(viewMap[filter]);
                if (targetView) {
                    targetView.style.display = 'block';
                    targetView.classList.add('active');
                }
            });
        });

        // ì¸ì‚¬ì´íŠ¸ í•„í„° ë²„íŠ¼
        document.querySelectorAll('.insight-filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const filter = this.dataset.filter;

                // ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ë³€ê²½
                document.querySelectorAll('.insight-filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');

                // ì»¨í…ì¸  í‘œì‹œ
                document.querySelectorAll('.insight-filter-content').forEach(content => {
                    content.style.display = 'none';
                    content.classList.remove('active');
                });

                const viewMap = {
                    'alerts': 'alertsView',
                    'recommendations': 'recommendationsView'
                };

                const targetView = document.getElementById(viewMap[filter]);
                if (targetView) {
                    targetView.style.display = 'block';
                    targetView.classList.add('active');
                }
            });
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°ì´í„° ë¡œë”©
        window.addEventListener('DOMContentLoaded', loadData);
    </script>
</body>
</html>
